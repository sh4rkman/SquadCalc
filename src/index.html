<!doctype html>
<html lang="en" translate="no">

<head>

    <title>SquadCalc</title>

    <meta name="description" content="A Complete Mortar Calculator for SQUAD !">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1">
    <meta name="theme-color" content="#111">
    <meta charset="utf-8">

    <!-- SOCIAL MEDIA -->
    <meta property="og:title" content="SquadCalc">
    <meta property="og:description" content="A Complete Mortar Calculator for SQUAD !">
    <meta property="og:image" content="https://i.imgur.com/MIYQv6D.png">
    <meta property="og:url" content="https://squadcalc.app">
    <meta name="twitter:card" content="https://i.imgur.com/MIYQv6D.png">

    <!-- FAVICON -->
    <link rel="shortcut icon" type="image/x-icon" href="./img/favicons/favicon.ico">

    <!-- PRECONNECT FOR FASTER LOAD -->
    <link rel="preload" href="./fonts/webfonts/montserrat-v26-latin-regular.woff2" as="font" crossorigin>
    <link rel="preload" href="./fonts/webfonts/oswald-v53-latin-700.woff2" as="font" crossorigin>
    <link rel="preload" href="./fonts/webfonts/fa-brands-400.woff2" as="font" crossorigin>
    <link rel="preload" href="./fonts/webfonts/fa-solid-900.woff2" as="font" crossorigin>

    <!-- FUCK IE / REGISTER SW -->
    <script>
        if (navigator.appName.indexOf("Internet Explorer") != -1 || navigator.userAgent.match(/Trident.*rv[ :]*11\./)) {
            window.location = "https://choosebrowser.com/";
        }
        if ("serviceWorker" in navigator) {
            try {
                navigator.serviceWorker.register("sw.js");
            } catch (error) {
                console.error(`Registration failed with ${error}`);
            }
        }
    </script>

</head>

<body style="visibility: hidden;">


    <div id="loader" class="pure-g">
        <span id="loaderLogo">
            <span>SQUAD</span>
            <span>CALC</span>
        </span>
    </div>

    <header class="pure-g">
        <div class="pure-u-1 pure-u-md-1-5 mapSelector">
            <div id="mapSelector" class="dropdown">
                <select class="dropbtn unselectable" tabindex="-1">
                    <option label="SELECT A MAP"></option>
                </select>
            </div>
        </div>
        <div class="pure-u-1 pure-u-md-1-5 weaponSelector">
            <div id="weaponSelector" class="dropdown">
                <select class="dropbtn2 unselectable" tabindex="-1">
                    <option label="SELECT A WEAPON"></option>
                </select>
            </div>
            <div id="ammoSelector" class="dropdown">
                <select class="dropbtn3 unselectable" tabindex="-1">
                    <option value="0">Impact</option>
                    <option value="1">Near-Surface</option>
                </select>
            </div>
        </div>

    </header>

    <div id="classic_ui" class="pure-g">
        <div class="pure-u-2-24 pure-u-md-1-8 pure-u-lg-1-5 pure-u-xxl-7-24"></div>
        <div class="pure-u-20-24 pure-u-md-3-4 pure-u-lg-3-5 pure-u-xxl-10-24">
            <div class="pure-g">

                <div class="pure-u-1 pure-u-md-11-24">
                    <div class="pure-g">
                        <div class="pure-u-1-5 pure-u-md-6-24"><span tabindex="1" onFocus="document.querySelector('.autofocus11').focus()"></span></div>
                        <div class="pure-u-3-5 pure-u-md-17-24">
                            <div id="mortar" class="coord">
                                <img id="mortarImg" class="unselectable pure-img" loading="lazy" src="./img/icons/mortar.png" alt="mortar">
                                <input id="mortar-location" class="autofocus1" spellcheck="false" maxlength="10" type="text" placeholder="A01-5-7" autocomplete="off" tabindex="2" autofocus>
                            </div>
                        </div>
                        <div class="pure-u-1-5 pure-u-md-1-24"><span tabindex="4" onFocus="document.querySelector('.autofocus1').focus()"></span></div>
                    </div>
                </div>

                <div class="pure-u-md-2-24"></div>

                <div class="pure-u-1 pure-u-md-11-24">
                    <div class="pure-g">
                        <div class="pure-u-1-5 pure-u-md-1-24"></div>
                        <div class="pure-u-3-5 pure-u-md-17-24">
                            <div id="target" class="coord">
                                <img id="targetImg" class="unselectable pure-img" loading="lazy" src="./img/icons/target.png" alt="target">
                                <input id="target-location" class="autofocus11" spellcheck="false" maxlength="10" type="text" placeholder="C03-2-7-9" autocomplete="off" tabindex="3">
                            </div>
                        </div>
                        <div class="pure-u-1-5 pure-u-md-6-24 "></div>
                    </div>
                </div>
            </div>

            <div id="results" class="pure-g">
                <div class="pure-u-md-2-24 pure-u-lg-2-24"></div>
                <div class="pure-u-1 pure-u-md-20-24 pure-u-lg-20-24">
                    <div id="settings">
                        <div id="copy" class="pure-g unselectable">
                            <div id="bearing" class="pure-u-10-24">
                                <span id="bearingNum">xxx</span>
                                <i class="fa-solid fa-drafting-compass fa-rotate-180"></i>
                            </div>
                            <div id="errorMsg" class="pure-u-4-24">-</div>
                            <div id="elevation" class="pure-u-10-24">
                                <span id="elevationNum">xxxx</span>
                                <button id="highlow"><i class="fa-solid fa-sort-amount-up"></i></button>
                            </div>
                        </div>
                        <button id="savebutton" class="hidden"><i class="fa-solid fa-tasks"></i></button>
                    </div>
                </div>
                <div class="pure-u-md-2-24 pure-u-lg-2-24"></div>
            </div>

            <div id="saved" class="pure-g hidden unselectable">
                <div class="pure-u-1">
                    <div class="saved_list"></div>
                </div>
                <span id="ruler"></span>
            </div>

        </div>

        <div class="pure-u-2-24 pure-u-md-1-8 pure-u-lg-1-5 pure-u-xxl-7-24"></div>


    </div>

    <canvas id="canvas" width="1000" height="1000"></canvas>

    <dialog id="helpDialog">

        <form method="dialog">
            <button class="closeModal">
                <i class="fa-regular fa-circle-xmark"></i>
            </button>
        </form>

        <h2>Settings</h2>

        <table class="userSettings">
            <caption>Map Options</caption>
            <tbody>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="gridSetting" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Show Grid</td>
                </tr>

                <tr id="keypadUnderCursorSettingRow">
                    <td >
                        <label class="mcui-checkbox" >
                            <input id="keypadUnderCursorSetting" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>
                        Show Keypads under Cursor
                        <br>
                        <span id="KPSettingSubText" class="settingsSubtext">
                        </span>
                    </td>
                </tr>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="weaponRangeSettings" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Show Weapon Min/Max Range</td>
                </tr>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="cursorChoiceSettings" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Use Classic Cursor</td>
                </tr>

            </tbody>
        </table>


        <table class="userSettings">
            <caption>Targets Options</caption>
            <tbody>
                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="spreadRadiusSetting" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Show Spread Radius</td>
                </tr>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="damageRadiusSetting" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Show 100 &amp; 25 Damage Radius</td>
                </tr>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="targetAnimationSettings" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>
                        Show Animations
                    </td>
                </tr>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="bearingSetting" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Show Bearing</td>
                </tr>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="distanceSetting" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Show Distance</td>
                </tr>

                <tr>
                    <td>
                        <label class="mcui-checkbox">
                            <input id="timeOfFlightSetting" type="checkbox">
                            <span>
                              <svg class="mcui-check" viewBox="-2 -2 35 35" aria-hidden="true">
                                <polyline points="7.57 15.87 12.62 21.07 23.43 9.93" />
                              </svg>
                            </span>
                            <span></span>
                          </label>
                    </td>
                    <td>Show Time of Flight</td>
                </tr>
            </tbody>
        </table>


        <h3>Preview</h3>

        <div id="preview" class="unselectable">
            <div id="textPreview">
                <span>1345</span><br>
                <span class="bearingPreview">241.5Â°</span>
            </div>
            <div id="center">
                <img id="damagePreview" loading="lazy" src="./img/icons/damage.png" alt="damagePreview">
                <img id="spreadPreview" loading="lazy" src="./img/icons/spread.png" alt="spreadPreview">
                <img id="gridPreview" loading="lazy" src="./img/icons/grid.png" alt="gridPreview">
                <img id="markerPreview" loading="lazy" src="./img/icons/marker_target_enabled.webp" alt="markerPreview">
                <img id="maxRangePreview" loading="lazy" src="./img/icons/maxrange.png" alt="maxRangePreview">
            </div>
        </div> 

        <table id="links">
            <tbody>
                <tr>
                    <td>
                        <a class="fab-action" href="https://github.com/sh4rkman/SquadCalc/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" aria-label="changelog" title="Change Log">
                           <i class="fa-solid fa-book-open"></i>
                        </a>
                    </td>
                    <td>
                        <a class="fab-action" href="https://github.com/sh4rkman/SquadCalc" target="_blank" rel="noopener noreferrer" aria-label="github" title="View code on Github">
                           <i class="fa-brands fa-github"></i>
                        </a>
                    </td>
                    <td>
                        <a class="fab-action" href="https://www.youtube.com/@sh4rkman" target="_blank" rel="noopener noreferrer" aria-label="Youtube" title="Watch my videos!">
                            <i class="fa-brands fa-youtube"></i>
                        </a>
                    </td>
                    <td> 
                        <a class="fab-action" href="https://github.com/sh4rkman/SquadCalc/issues" target="_blank" rel="noopener noreferrer" aria-label="Bugs" title="Report a bug">
                            <i class="fa-solid fa-bug"></i>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>

    </dialog>


    <div id="map_ui" class="pure-g hidden">

        <div id="map">
            <div id="background" class="pure-g">
                <span id="backgroundLogo">
                    <span>SQUAD</span>
                    <span>CALC</span>
                </span>
            </div>

        </div>

        <dialog id="calcInformation">
            <form method="dialog">
                <button class="closeModal">
                    <i class="fa-regular fa-circle-xmark"></i>
                </button>
            </form>

            <h2>Target Informations</h2>

            <div id="canvasControls">
                <button type="button" class="active" value="sim1" aria-label="Weapon 1">
                    Weapon 1
                </button>
                <button type="button" class="" value ="sim2" aria-label="Weapon 2">
                    Weapon 2
                </button>
            </div>
            
            <div id="sim1" class="sim active">
                <table>
                    <tbody>
                        <tr>
                            <td>Bearing</td><td class="infBearing"></td>
                        </tr>
                        <tr>
                            <td>Elevation</td><td class="infElevation"></td>
                        </tr>
                        <tr>
                            <td>Distance</td><td class="infDistance"></td>
                        </tr>
                        <tr>
                            <td>Time of Flight</td><td class="infTimeOfFlight"></td>
                        </tr>
                    </tbody>
                </table>
    
                <table>
                    <tbody>
                        <tr>
                            <td class="infSpreadTooltip info">Spread</td><td class="infSpread"></td>
                        </tr>
                        <tr>
                            <td>Weapon Height</td><td class="infWHeight"></td>
                        </tr>
                        <tr>
                            <td>Target Height</td><td class="infTHeight"></td>
                        </tr>
                        <tr>
                            <td>Height Difference</td><td class="infDHeight"></td>
                        </tr>
                    </tbody>
                </table>

                <canvas class="heightGraph" width="1000" height="600"></canvas>

            </div>

            <div id="sim2" class="sim">
                <table>
                    <tbody>
                        <tr>
                            <td>Bearing</td><td class="infBearing"></td>
                        </tr>
                        <tr>
                            <td>Elevation</td><td class="infElevation"></td>
                        </tr>
                        <tr>
                            <td>Distance</td><td class="infDistance"></td>
                        </tr>
                        <tr>
                            <td>Time of Flight</td><td class="infTimeOfFlight"></td>
                        </tr>
                    </tbody>
                </table>
    
                <table>
                    <tbody>
                        <tr>
                            <td class="infSpreadTooltip info">Spread</td><td class="infSpread"></td>
                        </tr>
                        <tr>
                            <td>Weapon Height</td><td class="infWHeight"></td>
                        </tr>
                        <tr>
                            <td>Target Height</td><td class="infTHeight"></td>
                        </tr>
                        <tr>
                            <td>Height Difference</td><td class="infDHeight"></td>
                        </tr>
                    </tbody>
                </table>
                <canvas class="heightGraph" width="1000" height="600"></canvas>
            </div>

        </dialog>

    </div>


    <dialog id="weaponInformation">
        <form method="dialog">
            <button class="closeModal">
                <i class="fa-regular fa-circle-xmark"></i>
            </button>
        </form>

        <h2>Weapon Informations</h2>

        <img class="weaponIcon" alt="weapon icon" src="./img/icons/mortar.png">
        
        <div class="sim active">
            <table>
                <tbody>
                    <tr>
                        <td>name</td><td class="infName"></td>
                    </tr>
                    <tr>
                        <td>Range</td><td class="infRange"></td>
                    </tr>
                    <tr>
                        <td class="infVelocityTooltip info">Velocity</td><td class="infVelocity"></td>
                    </tr>
                </tbody>
            </table>

            <table>
                <tbody>
                    <tr>
                        <td class="infMOATooltip info">MOA</td><td class="infMOA"></td>
                    </tr>
                    <tr>
                        <td>100 damage radius</td><td class="inf100damage"></td>
                    </tr>
                    <tr>
                        <td>25 damage radius</td><td class="inf25damage"></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="sim active">
            <table>
                <tbody>
                    <tr id="angleChoice">
                        <td class="noborder">Angle :</td>
                        <td class="noborder">
                            <div id="angleChoiceSettings">
                                <label>
                                    <input type="radio" id="angleChoiceLow" name="angleChoice" value="low">
                                    Low
                                </label>
                                <label>
                                    <input type="radio" id="angleChoiceHigh" name="angleChoice" value="high" checked="checked">
                                    High
                                </label>
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>

            <table>
                <tbody>
                    <tr>
                        <td class="noborder infHeightPaddingTooltip info">Additional height :</td>
                        <td class="noborder">
                            <div class="heightPadding">
                                <input type="number" value="0" min="0" max="100" step="1">  meters
                            </div>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

    </dialog>

    <div id="actionMenu">
        <button type="button" class="btn btn-delete" aria-label="delete all targets">
            <i class="fa-solid fa-trash"></i>
        </button>
    </div>

    <div id="mapLayerMenu">
        <button type="button" class="btn btn-basemap" value="basemap" aria-label="Switch to base map">
            <i class="fa-solid fa-map"></i>
        </button>
        <button type="button" class="btn btn-terrainmap" value="terrainmap" aria-label="Switch to terrain map">
            <i class="fa-solid fa-mountain-sun"></i>
        </button>
        <button type="button" class="btn btn-topomap" value="topomap" aria-label="Switch to topographic map">
            <i class="fa-solid fa-mound"></i>
        </button>
    </div>

    <footer class="pure-u-1 pure-u-md-1 pure-u-lg-1">

        <div class="fabs fab-wrapper2">
            <input id="fabCheckbox2" type="checkbox" class="fab-checkbox2">
            <label class="fab" for="fabCheckbox2">
                    <i id="switchUIbutton" class="fab-dots-2 fa-solid fa-map"></i>
            </label>
        </div>

        <div class="fabs fab-wrapper">
            <input id="fabCheckbox" type="checkbox" class="fab-checkbox2">
            <label class="fab" for="fabCheckbox">
                <i class="fab-dots-2 fa-solid fa-cog"></i>
            </label>
        </div>

    </footer>

</body>

</html>